<!-- LUNVYR ‚Äî Design Quiz (Interactive Style Finder, Personal Recommendations) -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Inter:wght@300;400;500&display=swap');

:root{
  --ink:#1c222b; --paper:#f2f0eb; --coal:#111; --ash:#666; --brass:#b2956d; --white:#fff;
  --purple:#8b5cf6; --blue:#3b82f6; --teal:#14b8a6; --pink:#ec4899;
  --radius:14px; --shadow:0 12px 32px rgba(0,0,0,.08); --ring: 0 0 0 3px rgba(178,149,109,.25);
}

.design-quiz{font-family:Inter,system-ui,sans-serif;color:var(--coal);line-height:1.65}
.design-quiz h1,.design-quiz h2,.design-quiz h3{font-family:Cinzel,serif;font-weight:400;margin:0}
.design-quiz .eyebrow{letter-spacing:.12em;text-transform:uppercase;font-size:.8rem;color:var(--ash);margin-bottom:.6rem}

/* Hero */
.quiz-hero{
  position:relative; color:var(--paper); text-align:center;
  background:#1a1625 url('https://lunvyr.com/wp-content/uploads/2025/08/f07dabad-5599-4f19-bb21-0e2537614e98.png') center/cover no-repeat;
  padding:clamp(100px,15vh,160px) 10%; min-height:70vh; display:flex; align-items:center; justify-content:center;
}
.quiz-hero::before{
  content:""; position:absolute; top:0; left:0; right:0; height:1px;
  background:linear-gradient(90deg, transparent, var(--purple), transparent);
}
.quiz-hero::after{
  content:""; position:absolute; inset:0; 
  background:radial-gradient(110% 110% at 50% 50%, rgba(139,92,246,0) 0%, rgba(139,92,246,.8) 70%);
}
.quiz-hero .inner{position:relative; z-index:2; max-width:900px; margin:0 auto}
.quiz-hero h1{
  font-size:clamp(2.6rem,5.2vw,3.8rem); color:var(--paper); margin-bottom:16px;
  font-family:'Cinzel',serif; font-weight:400; line-height:1.15;
}
.quiz-hero p{color:#e5d4ff; margin:0 auto 32px; max-width:760px; font-size:1.1rem; line-height:1.6}
.quiz-hero .start-btn{
  background:linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
  color:var(--white); padding:1rem 2rem; border-radius:50px; border:none;
  font-family:Cinzel,serif; font-size:1.1rem; font-weight:500;
  cursor:pointer; transition:all .3s ease; display:inline-flex; align-items:center; gap:.7rem;
}
.quiz-hero .start-btn:hover{
  transform:translateY(-3px); box-shadow:0 12px 30px rgba(139,92,246,.3);
}

/* Quiz Container */
.quiz-container{
  max-width:800px; margin:0 auto; padding:clamp(80px,12vh,120px) 10%;
  background:linear-gradient(135deg, var(--paper) 0%, #f8f6f0 100%);
  position:relative; min-height:80vh;
}
.quiz-container::before{
  content:""; position:absolute; top:0; left:0; right:0; height:1px;
  background:linear-gradient(90deg, transparent, var(--purple), transparent);
}

/* Progress Bar */
.progress-section{
  margin-bottom:40px; text-align:center;
}
.progress-label{
  color:var(--ash); font-size:.9rem; margin-bottom:8px;
  font-weight:500; text-transform:uppercase; letter-spacing:.05em;
}
.progress-bar{
  width:100%; height:6px; background:rgba(139,92,246,.15);
  border-radius:3px; overflow:hidden; margin-bottom:12px;
}
.progress-fill{
  height:100%; background:linear-gradient(90deg, var(--purple), var(--pink));
  width:0%; transition:width .4s ease; border-radius:3px;
}
.progress-text{color:var(--purple); font-weight:600; font-size:.9rem}

/* Question Card */
.question-card{
  background:var(--white); border:1px solid rgba(139,92,246,.1);
  border-radius:20px; padding:40px 32px; box-shadow:var(--shadow);
  text-align:center; display:none; opacity:0;
  transform:translateY(20px); transition:all .5s ease;
}
.question-card.active{display:block; opacity:1; transform:translateY(0)}
.question-card h2{
  color:var(--ink); margin-bottom:12px; font-size:clamp(1.4rem,2.2vw,1.8rem);
}
.question-card .question-desc{
  color:var(--ash); margin-bottom:32px; font-size:1rem; line-height:1.5;
}

/* Answer Options */
.answer-grid{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:16px; margin-bottom:32px;
}
/* Desktop layout for 4 answer options - 2x2 grid */
@media (min-width:1024px){
  .answer-grid{grid-template-columns:repeat(2, 1fr); max-width:500px; margin:0 auto 32px}
}
.answer-option{
  background:var(--white); border:2px solid rgba(139,92,246,.2);
  border-radius:16px; padding:24px 16px; cursor:pointer;
  transition:all .3s ease; text-align:center; position:relative;
  overflow:hidden;
}
.answer-option::before{
  content:""; position:absolute; inset:0;
  background:linear-gradient(135deg, transparent 0%, rgba(139,92,246,.05) 50%, transparent 100%);
  opacity:0; transition:opacity .3s ease;
}
.answer-option:hover::before{opacity:1}
.answer-option:hover{
  border-color:var(--purple); transform:translateY(-4px);
  box-shadow:0 8px 25px rgba(139,92,246,.15);
}
.answer-option.selected{
  border-color:var(--purple); background:rgba(139,92,246,.08);
  transform:translateY(-2px);
}
.answer-option .icon{
  width:48px; height:48px; margin:0 auto 12px;
  background:linear-gradient(135deg, var(--purple), var(--pink));
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  color:var(--white); font-size:1.2rem;
}
.answer-option h4{color:var(--ink); margin-bottom:8px; font-size:1rem}
.answer-option p{color:var(--ash); margin:0; font-size:.85rem; line-height:1.4}

/* Image Options */
.image-grid{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
  gap:20px; margin-bottom:32px;
}
.image-option{
  position:relative; border-radius:16px; overflow:hidden;
  cursor:pointer; transition:all .3s ease; border:3px solid transparent;
}
.image-option:hover{transform:scale(1.02)}
.image-option.selected{border-color:var(--purple)}
.image-option img{
  width:100%; height:150px; object-fit:cover; display:block;
}
.image-option .overlay{
  position:absolute; inset:0; background:rgba(139,92,246,.1);
  display:flex; align-items:center; justify-content:center;
  opacity:0; transition:opacity .3s ease;
}
.image-option:hover .overlay, .image-option.selected .overlay{opacity:1}
.image-option .label{
  background:var(--white); color:var(--purple); padding:8px 16px;
  border-radius:20px; font-weight:500; font-size:.9rem;
}

/* Navigation */
.quiz-nav{
  display:flex; justify-content:space-between; align-items:center;
  margin-top:32px;
}
.nav-btn{
  padding:12px 24px; border-radius:25px; border:2px solid var(--purple);
  background:var(--white); color:var(--purple); cursor:pointer;
  font-family:inherit; font-weight:500; transition:all .3s ease;
  display:flex; align-items:center; gap:8px;
}
.nav-btn:hover{
  background:var(--purple); color:var(--white);
}
.nav-btn:disabled{
  opacity:.5; cursor:not-allowed; background:var(--ash); border-color:var(--ash);
  color:var(--white);
}
.nav-btn.primary{
  background:var(--purple); color:var(--white);
}
.nav-btn.primary:hover{
  background:var(--pink); border-color:var(--pink);
}

/* Results */
.results-section{
  background:var(--white); border:1px solid rgba(139,92,246,.1);
  border-radius:20px; padding:40px 32px; box-shadow:var(--shadow);
  text-align:center; display:none; opacity:0;
  transform:translateY(20px); transition:all .5s ease;
}
.results-section.active{display:block; opacity:1; transform:translateY(0)}
.results-section h2{
  color:var(--ink); margin-bottom:16px; font-size:clamp(1.6rem,2.4vw,2rem);
}
.style-result{
  background:linear-gradient(135deg, var(--purple), var(--pink));
  color:var(--white); padding:24px; border-radius:16px;
  margin:24px 0; font-size:1.2rem; font-weight:500;
}
.recommendations{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
  gap:20px; margin:32px 0;
}
.recommendation-card{
  background:rgba(139,92,246,.05); border:1px solid rgba(139,92,246,.2);
  border-radius:12px; padding:20px 16px; text-align:center;
}
.recommendation-card .fixture-img{
  width:100%; height:120px; background:#ddd; border-radius:8px;
  margin-bottom:12px; position:relative; overflow:hidden;
}
.recommendation-card h4{color:var(--ink); margin-bottom:8px; font-size:1rem}
.recommendation-card p{color:var(--ash); margin:0 0 12px; font-size:.85rem}
.recommendation-card .price{color:var(--purple); font-weight:600}

/* Restart */
.restart-section{
  text-align:center; margin-top:32px; padding-top:24px;
  border-top:1px solid rgba(139,92,246,.2);
}

/* Responsive */
@media (max-width:767px){
  .quiz-hero{padding:clamp(80px,12vh,120px) 7%; min-height:60vh}
  .quiz-hero h1{font-size:clamp(2.2rem,7vw,3.2rem)}
  .quiz-container{padding:clamp(60px,10vh,80px) 7%}
  .question-card{padding:32px 24px}
  .answer-grid{grid-template-columns:1fr; gap:12px}
  .image-grid{grid-template-columns:1fr 1fr; gap:12px}
  .quiz-nav{flex-direction:column; gap:16px}
  .nav-btn{width:100%; justify-content:center}
}

@media (max-width:599px){
  .quiz-hero{padding:clamp(60px,10vh,80px) 6%}
  .question-card{padding:28px 20px}
  .image-grid{grid-template-columns:1fr}
}
</style>

<div class="design-quiz">

  <!-- HERO -->
  <section class="quiz-hero">
    <div class="inner">
      <div class="eyebrow">Personalized Recommendations</div>
      <h1>Design Style Quiz</h1>
      <p>Discover your perfect lighting style with our interactive quiz. Answer a few questions about your preferences and space to get personalized LUNVYR fixture recommendations.</p>
      <button class="start-btn" onclick="startQuiz()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 18l6-6-6-6"/>
        </svg>
        Start Quiz
      </button>
    </div>
  </section>

  <!-- QUIZ CONTAINER -->
  <section class="quiz-container">
    
    <!-- Progress -->
    <div class="progress-section">
      <div class="progress-label">Question <span id="current-question">1</span> of <span id="total-questions">8</span></div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <div class="progress-text" id="progress-text">12% Complete</div>
    </div>

    <!-- Question 1: Space Type -->
    <div class="question-card active" id="question-1">
      <h2>What type of space are you lighting?</h2>
      <p class="question-desc">Different spaces have unique lighting needs and style considerations.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'living-room')" data-value="living-room">
          <div class="icon">üõãÔ∏è</div>
          <h4>Living Room</h4>
          <p>Main gathering space</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'dining-room')" data-value="dining-room">
          <div class="icon">üçΩÔ∏è</div>
          <h4>Dining Room</h4>
          <p>Meal and entertainment area</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'kitchen')" data-value="kitchen">
          <div class="icon">üë®‚Äçüç≥</div>
          <h4>Kitchen</h4>
          <p>Cooking and prep space</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'bedroom')" data-value="bedroom">
          <div class="icon">üõèÔ∏è</div>
          <h4>Bedroom</h4>
          <p>Private retreat</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'entryway')" data-value="entryway">
          <div class="icon">üö™</div>
          <h4>Entryway</h4>
          <p>Welcome area</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'office')" data-value="office">
          <div class="icon">üíº</div>
          <h4>Office</h4>
          <p>Work space</p>
        </div>
      </div>
    </div>

    <!-- Question 2: Design Style -->
    <div class="question-card" id="question-2">
      <h2>Which design style resonates with you?</h2>
      <p class="question-desc">Your overall aesthetic preference will guide fixture recommendations.</p>
      
      <div class="image-grid">
        <div class="image-option" onclick="selectImageAnswer(this, 'modern')" data-value="modern">
          <img src="data:image/svg+xml,%3Csvg width='200' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' font-size='14' text-anchor='middle' dy='.3em' fill='%236b7280'%3EModern%3C/text%3E%3C/svg%3E" alt="Modern Style">
          <div class="overlay">
            <div class="label">Modern</div>
          </div>
        </div>
        <div class="image-option" onclick="selectImageAnswer(this, 'traditional')" data-value="traditional">
          <img src="data:image/svg+xml,%3Csvg width='200' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' font-size='14' text-anchor='middle' dy='.3em' fill='%236b7280'%3ETraditional%3C/text%3E%3C/svg%3E" alt="Traditional Style">
          <div class="overlay">
            <div class="label">Traditional</div>
          </div>
        </div>
        <div class="image-option" onclick="selectImageAnswer(this, 'industrial')" data-value="industrial">
          <img src="data:image/svg+xml,%3Csvg width='200' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' font-size='14' text-anchor='middle' dy='.3em' fill='%236b7280'%3EIndustrial%3C/text%3E%3C/svg%3E" alt="Industrial Style">
          <div class="overlay">
            <div class="label">Industrial</div>
          </div>
        </div>
        <div class="image-option" onclick="selectImageAnswer(this, 'transitional')" data-value="transitional">
          <img src="data:image/svg+xml,%3Csvg width='200' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' font-size='14' text-anchor='middle' dy='.3em' fill='%236b7280'%3ETransitional%3C/text%3E%3C/svg%3E" alt="Transitional Style">
          <div class="overlay">
            <div class="label">Transitional</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Question 3: Ceiling Height -->
    <div class="question-card" id="question-3">
      <h2>What's your ceiling height?</h2>
      <p class="question-desc">Ceiling height determines the best fixture proportions and hanging lengths.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, '8ft')" data-value="8ft">
          <div class="icon">üìè</div>
          <h4>8 feet</h4>
          <p>Standard height</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, '9-10ft')" data-value="9-10ft">
          <div class="icon">üìê</div>
          <h4>9-10 feet</h4>
          <p>Above average</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, '11-12ft')" data-value="11-12ft">
          <div class="icon">üìä</div>
          <h4>11-12 feet</h4>
          <p>High ceilings</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, '13ft+')" data-value="13ft+">
          <div class="icon">üèóÔ∏è</div>
          <h4>13+ feet</h4>
          <p>Very high ceilings</p>
        </div>
      </div>
    </div>

    <!-- Question 4: Room Size -->
    <div class="question-card" id="question-4">
      <h2>How large is your space?</h2>
      <p class="question-desc">Room dimensions help determine appropriate fixture scale and light distribution.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'small')" data-value="small">
          <div class="icon">üè†</div>
          <h4>Small</h4>
          <p>Under 150 sq ft</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'medium')" data-value="medium">
          <div class="icon">üè°</div>
          <h4>Medium</h4>
          <p>150-300 sq ft</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'large')" data-value="large">
          <div class="icon">üè∞</div>
          <h4>Large</h4>
          <p>300-500 sq ft</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'extra-large')" data-value="extra-large">
          <div class="icon">üèõÔ∏è</div>
          <h4>Extra Large</h4>
          <p>Over 500 sq ft</p>
        </div>
      </div>
    </div>

    <!-- Question 5: Lighting Preference -->
    <div class="question-card" id="question-5">
      <h2>What lighting mood do you prefer?</h2>
      <p class="question-desc">Your preferred ambiance affects fixture type and light output recommendations.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'bright')" data-value="bright">
          <div class="icon">‚òÄÔ∏è</div>
          <h4>Bright & Energizing</h4>
          <p>Task-focused lighting</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'warm')" data-value="warm">
          <div class="icon">üïØÔ∏è</div>
          <h4>Warm & Cozy</h4>
          <p>Ambient atmosphere</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'dramatic')" data-value="dramatic">
          <div class="icon">üé≠</div>
          <h4>Dramatic & Moody</h4>
          <p>Statement lighting</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'flexible')" data-value="flexible">
          <div class="icon">üéõÔ∏è</div>
          <h4>Flexible & Adjustable</h4>
          <p>Multi-purpose lighting</p>
        </div>
      </div>
    </div>

    <!-- Question 6: Finish Preference -->
    <div class="question-card" id="question-6">
      <h2>Which finish appeals to you most?</h2>
      <p class="question-desc">Fixture finish should complement your existing decor and personal style.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'natural-brass')" data-value="natural-brass">
          <div class="icon" style="background:linear-gradient(135deg, #b8860b, #daa520)">‚ú®</div>
          <h4>Natural Brass</h4>
          <p>Warm, living finish</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'aged-brass')" data-value="aged-brass">
          <div class="icon" style="background:linear-gradient(135deg, #8b6914, #b8860b)">üè∫</div>
          <h4>Aged Brass</h4>
          <p>Vintage patina</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'blackened-steel')" data-value="blackened-steel">
          <div class="icon" style="background:linear-gradient(135deg, #2d2d2d, #1a1a1a)">‚ö´</div>
          <h4>Blackened Steel</h4>
          <p>Modern industrial</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'polished-steel')" data-value="polished-steel">
          <div class="icon" style="background:linear-gradient(135deg, #a8a8a8, #c0c0c0)">üíé</div>
          <h4>Polished Steel</h4>
          <p>Sleek contemporary</p>
        </div>
      </div>
    </div>

    <!-- Question 7: Budget Range -->
    <div class="question-card" id="question-7">
      <h2>What's your budget range?</h2>
      <p class="question-desc">Budget helps us recommend fixtures that align with your investment level.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'under-1000')" data-value="under-1000">
          <div class="icon">üí∞</div>
          <h4>Under $1,000</h4>
          <p>Essential pieces</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, '1000-2500')" data-value="1000-2500">
          <div class="icon">üíé</div>
          <h4>$1,000 - $2,500</h4>
          <p>Mid-range selection</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, '2500-5000')" data-value="2500-5000">
          <div class="icon">üëë</div>
          <h4>$2,500 - $5,000</h4>
          <p>Premium fixtures</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'above-5000')" data-value="above-5000">
          <div class="icon">üèÜ</div>
          <h4>Above $5,000</h4>
          <p>Luxury collection</p>
        </div>
      </div>
    </div>

    <!-- Question 8: Priority -->
    <div class="question-card" id="question-8">
      <h2>What's most important to you?</h2>
      <p class="question-desc">Your top priority helps us fine-tune the perfect recommendations.</p>
      
      <div class="answer-grid">
        <div class="answer-option" onclick="selectAnswer(this, 'design')" data-value="design">
          <div class="icon">üé®</div>
          <h4>Design Impact</h4>
          <p>Statement piece</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'function')" data-value="function">
          <div class="icon">‚öôÔ∏è</div>
          <h4>Functionality</h4>
          <p>Perfect lighting quality</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'craftsmanship')" data-value="craftsmanship">
          <div class="icon">üî®</div>
          <h4>Craftsmanship</h4>
          <p>Heirloom quality</p>
        </div>
        <div class="answer-option" onclick="selectAnswer(this, 'uniqueness')" data-value="uniqueness">
          <div class="icon">ü¶Ñ</div>
          <h4>Uniqueness</h4>
          <p>One-of-a-kind piece</p>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <div class="quiz-nav">
      <button class="nav-btn" id="prev-btn" onclick="previousQuestion()" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M15 18l-6-6 6-6"/>
        </svg>
        Previous
      </button>
      <button class="nav-btn primary" id="next-btn" onclick="nextQuestion()" disabled>
        Next
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 18l6-6-6-6"/>
        </svg>
      </button>
    </div>

    <!-- Results -->
    <div class="results-section" id="results">
      <h2>Your Perfect Lighting Style</h2>
      <div class="style-result" id="style-result">
        Modern Minimalist
      </div>
      <p id="style-description">
        Clean lines and understated elegance define your style. You appreciate fixtures that enhance your space without overwhelming it.
      </p>
      
      <h3 style="margin:32px 0 20px; color:var(--ink)">Recommended Fixtures</h3>
      <div class="recommendations" id="recommendations">
        <!-- Recommendations will be populated by JavaScript -->
      </div>
      
      <div class="restart-section">
        <button class="nav-btn" onclick="restartQuiz()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6M23 20v-6h-6"/>
            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
          </svg>
          Take Quiz Again
        </button>
      </div>
    </div>

  </section>

</div>

<script>
// Quiz state
let currentQuestion = 1;
const totalQuestions = 8;
let answers = {};

// Question management
function startQuiz() {
  document.querySelector('.quiz-hero').style.display = 'none';
  document.querySelector('.quiz-container').style.display = 'block';
  updateProgress();
}

function selectAnswer(element, value) {
  // Remove previous selection
  element.parentNode.querySelectorAll('.answer-option').forEach(option => {
    option.classList.remove('selected');
  });
  
  // Select current option
  element.classList.add('selected');
  answers[`question-${currentQuestion}`] = value;
  
  // Enable next button
  document.getElementById('next-btn').disabled = false;
}

function selectImageAnswer(element, value) {
  // Remove previous selection
  element.parentNode.querySelectorAll('.image-option').forEach(option => {
    option.classList.remove('selected');
  });
  
  // Select current option
  element.classList.add('selected');
  answers[`question-${currentQuestion}`] = value;
  
  // Enable next button
  document.getElementById('next-btn').disabled = false;
}

function nextQuestion() {
  if (currentQuestion < totalQuestions) {
    // Hide current question
    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
    
    // Show next question
    currentQuestion++;
    setTimeout(() => {
      document.getElementById(`question-${currentQuestion}`).classList.add('active');
    }, 200);
    
    // Update navigation
    document.getElementById('prev-btn').disabled = false;
    document.getElementById('next-btn').disabled = true;
    
    // Check if answer already exists
    if (answers[`question-${currentQuestion}`]) {
      document.getElementById('next-btn').disabled = false;
      // Restore selection
      const value = answers[`question-${currentQuestion}`];
      const option = document.querySelector(`#question-${currentQuestion} [data-value="${value}"]`);
      if (option) option.classList.add('selected');
    }
    
    updateProgress();
  } else {
    // Show results
    showResults();
  }
}

function previousQuestion() {
  if (currentQuestion > 1) {
    // Hide current question
    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
    
    // Show previous question
    currentQuestion--;
    setTimeout(() => {
      document.getElementById(`question-${currentQuestion}`).classList.add('active');
    }, 200);
    
    // Update navigation
    document.getElementById('next-btn').disabled = false;
    if (currentQuestion === 1) {
      document.getElementById('prev-btn').disabled = true;
    }
    
    // Restore selection
    const value = answers[`question-${currentQuestion}`];
    const option = document.querySelector(`#question-${currentQuestion} [data-value="${value}"]`);
    if (option) option.classList.add('selected');
    
    updateProgress();
  }
}

function updateProgress() {
  const progress = (currentQuestion / totalQuestions) * 100;
  document.getElementById('current-question').textContent = currentQuestion;
  document.getElementById('total-questions').textContent = totalQuestions;
  document.getElementById('progress-fill').style.width = `${progress}%`;
  document.getElementById('progress-text').textContent = `${Math.round(progress)}% Complete`;
}

function showResults() {
  // Hide current question
  document.getElementById(`question-${currentQuestion}`).classList.remove('active');
  
  // Hide navigation
  document.querySelector('.quiz-nav').style.display = 'none';
  
  // Calculate results
  const result = calculateResults();
  
  // Show results
  setTimeout(() => {
    document.getElementById('results').classList.add('active');
    document.getElementById('style-result').textContent = result.style;
    document.getElementById('style-description').textContent = result.description;
    
    // Populate recommendations
    const recommendationsContainer = document.getElementById('recommendations');
    recommendationsContainer.innerHTML = '';
    
    result.fixtures.forEach(fixture => {
      const card = document.createElement('div');
      card.className = 'recommendation-card';
      card.innerHTML = `
        <div class="fixture-img"></div>
        <h4>${fixture.name}</h4>
        <p>${fixture.description}</p>
        <div class="price">${fixture.price}</div>
      `;
      recommendationsContainer.appendChild(card);
    });
  }, 300);
}

function calculateResults() {
  const space = answers['question-1'];
  const style = answers['question-2'];
  const height = answers['question-3'];
  const size = answers['question-4'];
  const mood = answers['question-5'];
  const finish = answers['question-6'];
  const budget = answers['question-7'];
  const priority = answers['question-8'];
  
  // Style determination logic
  let resultStyle = 'Modern Minimalist';
  let description = 'Clean lines and understated elegance define your style.';
  
  if (style === 'traditional') {
    resultStyle = 'Classic Elegance';
    description = 'Timeless design with sophisticated details that never go out of style.';
  } else if (style === 'industrial') {
    resultStyle = 'Industrial Chic';
    description = 'Raw materials and bold forms create dramatic, urban-inspired lighting.';
  } else if (style === 'transitional') {
    resultStyle = 'Refined Transitional';
    description = 'Perfect balance of traditional and contemporary elements for versatile appeal.';
  }
  
  // Sample fixture recommendations based on answers
  const fixtures = [
    {
      name: 'Meridian Pendant',
      description: 'Geometric brass pendant perfect for ' + space,
      price: '$1,850'
    },
    {
      name: 'Apex Chandelier',
      description: 'Statement piece with adjustable height',
      price: '$2,950'
    },
    {
      name: 'Linear Collection',
      description: 'Modular lighting system for flexible design',
      price: '$3,200'
    }
  ];
  
  return {
    style: resultStyle,
    description: description,
    fixtures: fixtures
  };
}

function restartQuiz() {
  // Reset state
  currentQuestion = 1;
  answers = {};
  
  // Hide results
  document.getElementById('results').classList.remove('active');
  
  // Show hero
  document.querySelector('.quiz-hero').style.display = 'flex';
  document.querySelector('.quiz-container').style.display = 'none';
  
  // Reset all selections
  document.querySelectorAll('.answer-option, .image-option').forEach(option => {
    option.classList.remove('selected');
  });
  
  // Reset navigation
  document.querySelector('.quiz-nav').style.display = 'flex';
  document.getElementById('prev-btn').disabled = true;
  document.getElementById('next-btn').disabled = true;
  
  // Show first question
  document.querySelectorAll('.question-card').forEach(card => {
    card.classList.remove('active');
  });
  document.getElementById('question-1').classList.add('active');
  
  updateProgress();
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  updateProgress();
});
</script>